{"version":3,"sources":["firebase/config.js","components/Vehicle.js","components/Home.js","context/VisitorsContext.js","components/Login.js","components/Signup.js","components/admin/AddVehicle.js","img/edit.png","components/admin/ListVehicles.js","components/admin/VehicleHandling.js","components/admin/UsersHandling.js","components/Admin.js","components/Profile.js","components/shared/Navbar.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","settings","timestampsInSnapshots","storage","db","auth","Vehicle","props","user","history","useHistory","useState","rentMe","setRentMe","rentFrom","setRentFrom","rentTo","setRentTo","timeRenting","setTimeRenting","price","setPrice","amountOfTimeRented","setTimeRented","vip","setVip","useEffect","userId","uid","collection","doc","get","then","res","data","rentingTime","time","moment","diff","pricePerDay","parseInt","sum","className","brand","src","picture","alt","width","model","type","constructYear","fuel","seats","renting","onChange","e","target","value","placeholder","disabled","onClick","update","brandId","id","brandRenting","date","format","modelRenting","payment","rentingFrom","rentingTo","push","catch","err","console","log","Home","vehicles","setVehicles","fetchVehicles","a","vehiclesCollection","docs","map","length","vehicle","VisitorContext","createContext","VisitorContextProvider","setUsername","Provider","setUser","username","children","Login","useContext","email","setEmail","password","setPassword","onSubmit","preventDefault","signInWithEmailAndPassword","error","name","Signup","method","createUserWithEmailAndPassword","set","message","required","AddVehicle","setVehicleAdd","fileName","setFileName","fileUrl","setFileUrl","setBrand","setModel","setConstructYear","setFuel","setSeats","setType","addVehicle","document","querySelector","modal","modalBg","addEventListener","classList","add","remove","handleFileUploud","file","files","storageRef","ref","fileRef","child","put","getDownloadURL","docId","Math","round","random","toLocaleString","accept","htmlFor","ListVehicles","setUpdate","querySelectorAll","forEach","button","carId","dataset","picUrl","url","delete","refFromURL","obj","data-id","onBlur","updateField","editIcon","data-target","data-url","colSpan","VehicleHandling","vehicleAdded","UsersHandling","users","setUsers","adding","setAdding","getAllUsers","Admin","userObject","visitor","tabs","tabContent","tab","t","box","getAttribute","data-tab","Profile","setData","Navbar","setUserObject","exact","to","signOut","App","onAuthStateChanged","path","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.32e3a265.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBw2IS1z7tTCFhixckwzQSSLYXSiXtrHRE\",\r\n    authDomain: \"rentacar-renting.firebaseapp.com\",\r\n    projectId: \"rentacar-renting\",\r\n    storageBucket: \"rentacar-renting.appspot.com\",\r\n    messagingSenderId: \"331620922297\",\r\n    appId: \"1:331620922297:web:4d0bf18cc070330b56fc68\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore().settings({ timestampsInSnapshots: true });\r\n\r\nconst storage = firebase.storage();\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { storage, db, auth, firebase }","import moment from 'moment';\r\nimport React from 'react'\r\nimport { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { db } from '../firebase/config';\r\n\r\nconst Vehicle = ({ props, user }) => {\r\n  let history = useHistory();\r\n  const [ rentMe, setRentMe ] = useState(false);\r\n  const [ rentFrom, setRentFrom ] = useState(false);\r\n  const [ rentTo, setRentTo ] = useState(false);\r\n  const [ timeRenting, setTimeRenting ] = useState();\r\n  const [ price, setPrice ] = useState(0);\r\n\r\n  const [ amountOfTimeRented, setTimeRented ] = useState(0);\r\n  const [ vip, setVip ] = useState(false);\r\n\r\n  // Getting renting info\r\n  const getRentingInfo = (userId) => {\r\n    db.collection('users-renting').doc(userId).get()\r\n    .then(res => {\r\n      setTimeRented(res.data().rentingTime)\r\n    })\r\n  }\r\n\r\n  const updateUsersRentingInfo = (userId) => {\r\n    if(rentFrom !== false && rentTo !== false){\r\n      db.collection('users-renting').doc(userId).update({\r\n        brandId: props.id,\r\n        brandRenting: props.brand,\r\n        date: moment().format('YYYY-MM-DD'),\r\n        modelRenting: props.model,\r\n        payment: price,\r\n        rentingFrom: rentFrom,\r\n        rentingTo: rentTo,\r\n        rentingTime: amountOfTimeRented + 1,\r\n        vip: vip\r\n      })\r\n      .then(res => {\r\n        db.collection('vehicles').doc(props.id).update({\r\n          renting: true\r\n        }).then(() => {\r\n          history.push('/profile')\r\n        })\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n    }else {\r\n      setRentFrom(false);\r\n      setRentTo(false);\r\n    }\r\n  }\r\n\r\n  const handleRent = () => {\r\n    updateUsersRentingInfo(user.uid)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if(user !== null) {\r\n      getRentingInfo(user.uid);\r\n    }\r\n\r\n    if (amountOfTimeRented > 3) {\r\n      setVip(true);\r\n    }\r\n\r\n    if (rentMe) {\r\n      let time = moment(rentTo).diff(rentFrom, 'days');\r\n      setTimeRenting(time);\r\n\r\n      let pricePerDay = parseInt(props.price);\r\n      let sum = timeRenting * pricePerDay;\r\n      \r\n      // Discount based of number of days rented\r\n      if (timeRenting <= 3){\r\n        setPrice(sum);\r\n      }else if(timeRenting > 3 && timeRenting <= 5) {\r\n        let withDiscount = sum - (sum * 0.05)\r\n        setPrice(withDiscount)\r\n      } else if (timeRenting > 5 && timeRenting <= 10) {\r\n        let withDiscount = sum - (sum * 0.07)\r\n        setPrice(withDiscount)\r\n      } else if (timeRenting > 10) {\r\n        let withDiscount = sum - (sum * 0.1)\r\n        setPrice(withDiscount)\r\n      }\r\n    } else {\r\n      setTimeRenting();\r\n      setPrice();\r\n    }\r\n  })\r\n\r\n  return (\r\n      <div className='has-background-light p-7 rounded-corners'>\r\n          <div className=\"is-size-3\">{props.brand}</div>\r\n          <div>\r\n            <img src={props.picture} alt=\"\" width='200px'/>\r\n          </div>\r\n          <div>Model: {props.model}</div>\r\n          <div>Type: {props.type}</div>\r\n          <div>Construction year: {props.constructYear}</div>\r\n          <div>Fuel type: {props.fuel}</div>\r\n          <div>Number of seats: {props.seats}</div>\r\n          <div>Price Per Day: {props.price}</div>\r\n          {\r\n            user !== null && props.renting === false ?\r\n            <div>\r\n              <label>Rent me? </label>\r\n              <input type='checkbox' onChange={() => setRentMe(!rentMe)} />\r\n            </div> : \r\n            <div>\r\n              Not Available\r\n            </div>\r\n          }\r\n          {\r\n            user !== null && rentMe &&\r\n            <div>\r\n              <label>Rent from:</label>\r\n              <input type=\"date\" onChange={(e) =>setRentFrom(e.target.value)} /> <br/>\r\n              <label>Rent to:</label>\r\n              <input type=\"date\" onChange={(e) =>setRentTo(e.target.value)} />\r\n\r\n              <div>\r\n                <label>Total price: (&euro;) </label>\r\n                <input type=\"text\" placeholder={price} disabled/>\r\n              </div>\r\n\r\n              <button className=\"button\" onClick={handleRent}>Rent me</button>\r\n            </div>\r\n          }\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Vehicle;","import moment from 'moment';\r\nimport React, { useState } from 'react'\r\nimport { useEffect } from 'react';\r\nimport { db } from '../firebase/config';\r\nimport Vehicle from './Vehicle';\r\n\r\nexport default function Home({user}) {\r\n    const [ vehicles, setVehicles ] = useState([]);\r\n    \r\n    const fetchVehicles = async () => {\r\n      const vehiclesCollection = await db.collection('vehicles').get();\r\n      setVehicles(vehiclesCollection.docs.map(doc => {\r\n        return doc.data();\r\n      }))\r\n    }\r\n\r\n    useEffect(() => {\r\n      fetchVehicles();\r\n    },[]);\r\n\r\n    return (\r\n        <main className=\"container has-text-centered mt-6 p-4\">\r\n            <section className=\"container\">\r\n                <h1 className=\"is-size-1 has-text-dark\">WELCOME</h1>\r\n                <p className=\"is-size-3\">\r\n                    Comfort. Stability. Security.\r\n                </p>\r\n\r\n                <div className=\"\">\r\n                    Number of cars: { vehicles.length }\r\n                </div>\r\n            </section>\r\n            <section className=\"main-content container\">\r\n                {\r\n                    vehicles.length ? vehicles.map((vehicle) => {\r\n                        return <Vehicle props={vehicle} key={vehicle.id} user={user} />\r\n                    }) : \r\n                    <div className=\"button is-loading\"></div>\r\n                }\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n","import { createContext } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nexport const VisitorContext = createContext();\r\n\r\nconst VisitorContextProvider = (props) => {\r\n  const [ user, setUsername ] = useState(null);\r\n\r\n  const setUser = (username) => {\r\n    setUsername(username);\r\n  }\r\n\r\n  return (\r\n    <VisitorContext.Provider value={{user, setUser}}>\r\n      { props.children }\r\n    </VisitorContext.Provider>\r\n  )\r\n}\r\n\r\nexport default VisitorContextProvider;","import React from 'react'\r\nimport { useState } from 'react';\r\nimport { useContext } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { VisitorContext } from '../context/VisitorsContext';\r\nimport { auth, db } from '../firebase/config';\r\n\r\nfunction Login() {\r\n    const { setUser } = useContext(VisitorContext);\r\n    const history = useHistory();\r\n\r\n    const [ email, setEmail ] = useState('');\r\n    const [ password, setPassword ] = useState('');\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        if(email !== '' && password !== '') {\r\n          try {\r\n            auth.signInWithEmailAndPassword(email, password)\r\n            .then(res => {\r\n              \r\n            }).catch(err => {\r\n              console.log(err)\r\n            })\r\n          } catch (error) {\r\n            console.log(error)\r\n          }\r\n        }\r\n        history.push('/');\r\n    }\r\n\r\n  return (\r\n    <main className='container has-text-centered mt-6 p-4'>\r\n      <section className=\"container has-text-centered\">\r\n        <h1 className=\"is-size-1 has-text-dark\">Log in</h1>\r\n        <div className=\"has-text-centered\">\r\n          <form className='pt-6 m-3' onSubmit={handleLogin}>\r\n            <div className=\"field\">\r\n              <label className=\"label has-text-dark is-size-5\">Email</label>\r\n              <div className=\"control has-icons-left\">\r\n                <input className=\"input\" name='email' type=\"email\" placeholder=\"Email\" onChange={(e) => setEmail(e.target.value)} />\r\n                <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-envelope\"></i>\r\n                </span>\r\n              </div>\r\n              <p className=\"help error email\"></p>\r\n            </div>                                      \r\n            <div className=\"field\">\r\n              <label className=\"label has-text-dark is-size-5\">Password</label>\r\n              <div className=\"control has-icons-left\">\r\n                <input className=\"input\" name='password' type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)}/>\r\n                <span className=\"icon is-small is-left\">\r\n                    <i className=\"fas fa-lock\"></i>\r\n                </span>\r\n              </div>\r\n              <p className=\"help error password\"></p>\r\n            </div>\r\n            <button className='button is-medium is-dark'>Log in</button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { storage, db, auth, firebase } from '../firebase/config';\r\n\r\nfunction Signup() {\r\n  const [ username, setUsername ] = useState('');\r\n  const [ email, setEmail ] = useState('');\r\n  const [ password, setPassword ] = useState('');\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (username !== '' && email !== '' && password !== '') {\r\n      try {\r\n        // Adding user\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n        .then(res => {\r\n          return db.collection('users').doc(res.user.uid).set({\r\n            id: res.user.uid,\r\n            username,\r\n            email,\r\n            password\r\n          }),\r\n          db.collection('users-renting').doc(res.user.uid).set({\r\n            id: res.user.uid,\r\n            brandId: '',\r\n            modelRenting: '',\r\n            brandRenting: '',\r\n            rentingFrom: '',\r\n            rentingTo: '',\r\n            rentingTime: 0,\r\n            date: '',\r\n            vip: false,\r\n            payment: 0\r\n          });\r\n        }).catch(err => {\r\n          // setError(err)\r\n          console.log(err.message);\r\n        });\r\n\r\n        history.push('/');\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\nreturn (\r\n    <main className='container has-text-centered mt-6 p-4'>\r\n      <section className=\"container has-text-centered\">\r\n        <h1 className=\"is-size-1 has-text-dark\">Sign up</h1>\r\n        <div className=\"has-text-centered\">\r\n            <form method='post' className='pt-6 m-3' onSubmit={handleSubmit}>\r\n                <div className=\"field\">\r\n                    <label className=\"label has-text-dark is-size-5\">Username</label>\r\n                    <div className=\"control has-icons-left\">\r\n                        <input className=\"input\" name='text' type=\"text\" placeholder=\"Username\" onChange={(e) => setUsername(e.target.value)} required />\r\n                    </div>\r\n                    <p className=\"help error username\"></p>\r\n                </div>  \r\n                <div className=\"field\">\r\n                    <label className=\"label has-text-dark is-size-5\">Email</label>\r\n                    <div className=\"control has-icons-left\">\r\n                        <input className=\"input\" name='email' type=\"email\" placeholder=\"Email\" onChange={(e) => setEmail(e.target.value)} required />\r\n                        <span className=\"icon is-small is-left\">\r\n                            <i className=\"fas fa-envelope\"></i>\r\n                        </span>\r\n                    </div>\r\n                    <p className=\"help error email\"></p>\r\n                </div>                                      \r\n                <div className=\"field\">\r\n                    <label className=\"label has-text-dark is-size-5\">Password</label>\r\n                    <div className=\"control has-icons-left\">\r\n                        <input className=\"input\" name='password' type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} required/>\r\n                        <span className=\"icon is-small is-left\">\r\n                            <i className=\"fas fa-lock\"></i>\r\n                        </span>\r\n                    </div>\r\n                    <p className=\"help error password\"></p>\r\n                </div>\r\n                <button className='button is-medium is-dark'>Sign up</button>\r\n            </form>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { db, storage } from '../../firebase/config';\r\n\r\nfunction AddVehicle({ setVehicleAdd, vehicle }) {\r\n  let history = useHistory();\r\n\r\n  const [ fileName, setFileName ] = useState('');\r\n  const [ fileUrl, setFileUrl ] = useState();\r\n\r\n  // form data\r\n  const [ brand, setBrand ] = useState('');\r\n  const [ model, setModel ] = useState('');\r\n  const [ constructYear, setConstructYear ] = useState('');\r\n  const [ fuel, setFuel ] = useState('');\r\n  const [ seats, setSeats ] = useState('');\r\n  const [ price, setPrice ] = useState('');\r\n  const [ type, setType] = useState('');\r\n\r\n  // modal\r\n  useEffect(() => {\r\n    const addVehicle = document.querySelector('#addVehicle');\r\n    const modal = document.querySelector('.modal');\r\n    const modalBg = document.querySelector('.modal-background');\r\n\r\n    addVehicle.addEventListener('click', () => {\r\n        modal.classList.add('is-active');\r\n    });\r\n\r\n    modalBg.addEventListener('click', () => {\r\n        modal.classList.remove('is-active');\r\n    });\r\n  })\r\n\r\n  const handleFileUploud = async (e) => {\r\n    const file = e.target.files[0];\r\n    const storageRef = storage.ref();\r\n    const fileRef = storageRef.child(file.name);\r\n\r\n    await fileRef.put(file);\r\n    setFileName(file.name);\r\n    setFileUrl(await fileRef.getDownloadURL());\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const Id = Math.round(Math.random() * 10000);\r\n    const docId = Id.toLocaleString();\r\n    \r\n    try {\r\n      // Adding vehicle to a db\r\n      if (fileName !== '') {\r\n        db.collection('vehicles').doc(docId).set({\r\n          id: docId,\r\n          picture: fileUrl,\r\n          brand,\r\n          model,\r\n          constructYear,\r\n          fuel,\r\n          seats,\r\n          price,\r\n          type,\r\n          renting: false\r\n        }).then(ref => {\r\n          \r\n        }).catch(err => {\r\n          console.log(err);\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n    // Removing modal after submit\r\n    const modal = document.querySelector('.modal');\r\n    modal.classList.remove('is-active');\r\n\r\n    setVehicleAdd(!vehicle);\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"button is-light add\" id=\"addVehicle\">Add Vehicle</button>\r\n\r\n      <div className=\"modal\">\r\n        <div className=\"modal-background\"></div>\r\n        \r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <p className=\"modal-card-title\">Add Vehicle</p>\r\n          </header>\r\n          <div className=\"modal-card-body has-background-grey p-5\">\r\n            <form onSubmit={handleSubmit}>\r\n            <label className=\"label\">Choose a picture:</label>\r\n            <div className=\"field file\">\r\n              <div className=\"file is-boxed\">\r\n                <label className=\"file-label\">\r\n                  <input className=\"file-input\" onChange={handleFileUploud} type=\"file\" name=\"picture\" accept=\".jpg, .jpeg, .png\" required />\r\n                  <span className=\"file-cta\">\r\n                    <span className=\"file-icon\">\r\n                      <i className=\"fas fa-upload\">\r\n                          <img src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.freeiconspng.com%2Fuploads%2Fupload-icon-6.png&f=1&nofb=1\" alt=\"\"/>\r\n                      </i>\r\n                    </span>\r\n                    <span className=\"file-label\">\r\n                      Choose a fileâ€¦\r\n                    </span>\r\n                  </span>\r\n                  <span className=\"file-name\">\r\n                    { fileName }\r\n                  </span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n              <div className=\"field\">\r\n                <label htmlFor=\"brand\" className=\"label\">Brand</label>\r\n                <div className=\"control\">\r\n                    <input onChange={(e) => setBrand(e.target.value)} className=\"input\" name=\"brand\" id=\"brand\" type=\"text\" placeholder=\"e.g Toyota\" required />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"field\">\r\n                <label htmlFor=\"model\" className=\"label\">Model</label>\r\n                <div className=\"control\">\r\n                  <input onChange={(e) => setModel(e.target.value)} className=\"input\" name=\"model\" id=\"model\" type=\"text\" placeholder=\"e.g Toyota Prius\" required />\r\n                </div>\r\n              </div>\r\n\r\n                <div className=\"field\">\r\n                  <label htmlFor=\"year\" className=\"label\">Construction year</label>\r\n                  <div className=\"control\">\r\n                    <input onChange={(e) => setConstructYear(e.target.value)} className=\"input\" name=\"year\" id=\"year\" type=\"text\" placeholder=\"e.g 2020\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                  <label className=\"label\">Fuel type</label>\r\n                  <div className=\"control\">\r\n                    <div className=\"select\">\r\n                    <select onChange={(e) => setFuel(e.target.value)} required>\r\n                      <option value=\"\">Select</option>\r\n                      <option value=\"Ethanol\">Ethanol</option>\r\n                      <option value=\"Methanol\">Methanol</option>\r\n                      <option value=\"Gasoline\">Gasoline</option>\r\n                      <option value=\"Diesel\">Diesel</option>\r\n                      <option value=\"Natural gas\">Natural gas</option>\r\n                      <option value=\"Hydrogen\">Hydrogen</option>\r\n                      <option value=\"Biodiesel\">Biodiesel</option>\r\n                    </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                  <label className=\"label\">Vehicle type</label>\r\n                  <div className=\"control\">\r\n                    <div className=\"select\">\r\n                    <select onChange={(e) => setType(e.target.value)} required>\r\n                      <option value=\"\">Select</option>\r\n                      <option value=\"Economy\">Economy</option>\r\n                      <option value=\"Estate\">Estate</option>\r\n                      <option value=\"Luxury\">Luxury</option>\r\n                      <option value=\"SUV\">SUV</option>\r\n                      <option value=\"Cargo\">Cargo</option>\r\n                    </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                  <label className=\"label\">Number of seats</label>\r\n                  <div className=\"control\">\r\n                    <div className=\"select\">\r\n                    <select onChange={(e) => setSeats(e.target.value)} required>\r\n                      <option value=\"\">Select</option>\r\n                      <option value=\"2\">2</option>\r\n                      <option value=\"4\">4</option>\r\n                      <option value=\"6\">6</option>\r\n                    </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                  <label htmlFor=\"price\" className=\"label\">Price per Day in &euro;(EUR)</label>\r\n                  <div className=\"control\">\r\n                    <input onChange={(e) => setPrice(e.target.value)} className=\"input\" name=\"price\" id=\"price\" type=\"number\" placeholder=\"e.g 50\" required />\r\n                  </div>\r\n                </div>\r\n                <button className=\"button is-link\">Submit</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddVehicle\r\n","export default __webpack_public_path__ + \"static/media/edit.bd176f6f.png\";","import React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { db, storage } from '../../firebase/config';\r\nimport editIcon from '../../img/edit.png';\r\n\r\nfunction ListVehicles({ vehicles, vehicle, setVehicleAdd }) {\r\n  const [ update, setUpdate ] = useState(false);\r\n\r\n  // form data for update\r\n  const [ price, setPrice ] = useState('');\r\n\r\n  const deleteVehicle = (id, fileUrl) => {\r\n    // Delete document from collection\r\n    db.collection('vehicles').doc(id).delete()\r\n    .then(res => {\r\n      \r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n\r\n    // Delete image from storage\r\n    let imgRef = storage.refFromURL(fileUrl);\r\n    imgRef.delete().then(() => {\r\n      console.log('deleted pic')\r\n      \r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n\r\n    setVehicleAdd(!vehicle);\r\n  }\r\n\r\n  // Update document\r\n  const updateField = (price, id) => {\r\n    db.collection('vehicles').doc(id).update({\r\n      price\r\n    }).then(() => setUpdate(false))\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n\r\n    setVehicleAdd(!vehicle);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const deleteButton = document.querySelectorAll('.delete');\r\n\r\n    deleteButton.forEach(button => {\r\n      button.addEventListener('click', (e) => {\r\n        const carId = e.target.dataset.target;\r\n        const picUrl = e.target.dataset.url;\r\n        deleteVehicle(carId, picUrl);\r\n      })\r\n    });\r\n  });\r\n  \r\n  const handleEdit = () => {\r\n    setUpdate(true);\r\n  }\r\n\r\nreturn (\r\n  <div className=\"table-vehicles m-6\">\r\n      <table className=\"table is-hoverable\">\r\n        <thead className=\"has-background-grey-dark\">\r\n          <tr className=\"\">\r\n            <th className=\"has-text-white-ter\">Brand</th>\r\n            <th className=\"has-text-white-ter\">Model</th>\r\n            <th className=\"has-text-white-ter\">Year of construction</th>\r\n            <th className=\"has-text-white-ter\">Fuel type</th>\r\n            <th className=\"has-text-white-ter\">Number of seats</th>\r\n            <th className=\"has-text-white-ter\">Price Per Day (&euro;)</th>\r\n            <th className=\"has-text-white-ter\">Edit</th>\r\n            <th className=\"has-text-white-ter\">Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            vehicles.length > 0 ?\r\n            vehicles.map(obj => {\r\n              return <tr key={obj.id}>\r\n                <td>{ obj.brand }\r\n                </td>\r\n                <td>{ obj.model }</td>\r\n                <td>{ obj.constructYear }</td>\r\n                <td>{ obj.fuel }</td>\r\n                <td>{ obj.seats }</td>\r\n                <td>{ update ? \r\n                  <input type=\"text\" placeholder={obj.price} data-id={obj.id} onChange={(e) => setPrice(e.target.value)} onBlur={() => updateField(price, obj.id)} /> : \r\n                  obj.price }</td>\r\n                <td>\r\n                  <span className=\"icon\">\r\n                    <i className=\"fas fa-edit\" onClick={(e) => handleEdit(e)} >\r\n                      <img src={editIcon} className='edit' data-id={obj.id}/>\r\n                    </i>\r\n                  </span>\r\n                </td>\r\n                <td>\r\n                <span className=\"icon delete\" data-target={obj.id} data-url={obj.picture}>\r\n                    <i className=\"fas\">\r\n\r\n                    </i>\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            }) : \r\n            <tr>\r\n              <td colSpan='8'>No vehicles</td>\r\n            </tr>\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ListVehicles\r\n","import React from 'react'\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { db } from '../../firebase/config';\r\nimport AddVehicle from './AddVehicle';\r\nimport ListVehicles from './ListVehicles';\r\n\r\nfunction VehicleHandling() {\r\n  const [ vehicles, setVehicles ] = useState([]);\r\n  const [ vehicleAdded, setVehicleAdd ] = useState(false);\r\n\r\n  // Show data from db\r\n  const fetchVehicles = async () => {\r\n    const vehiclesCollection = await db.collection('vehicles').get();\r\n    setVehicles(vehiclesCollection.docs.map(doc => {\r\n      return doc.data();\r\n    }))\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchVehicles();\r\n  }, [vehicleAdded]);\r\n\r\n  return (\r\n    <section className='container'>\r\n      <AddVehicle setVehicleAdd={setVehicleAdd} vehicle={vehicleAdded} />\r\n      <ListVehicles setVehicleAdd={setVehicleAdd} vehicle={vehicleAdded} vehicles={vehicles} />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default VehicleHandling\r\n","import React from 'react'\r\nimport { useState, useEffect  } from 'react'\r\nimport { useHistory } from 'react-router';\r\nimport { db } from '../../firebase/config';\r\nimport editIcon from '../../img/edit.png';\r\n\r\nfunction UsersHandling() {\r\n  const history = useHistory();\r\n  const [ users, setUsers ] = useState([]);\r\n  const [ adding, setAdding ] = useState(false);\r\n  const [ update, setUpdate ] = useState(false);\r\n  const [ username, setUsername ] = useState('');\r\n\r\n  const getAllUsers = () => {\r\n    try {\r\n      db.collection('users').get()\r\n      .then(res => {\r\n        setUsers(res.docs.map(doc => {\r\n          return doc.data();\r\n        }))\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const updateField = (username, id) => {\r\n    if (username !== '') {\r\n      db.collection('users').doc(id).update({\r\n        username\r\n      }).then(() => {\r\n        setUpdate(false)\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    } else {\r\n      setUpdate(false);\r\n    }\r\n    setAdding(!adding);\r\n  }\r\n\r\n  const handleEdit = () => {\r\n    setUpdate(true);\r\n  }\r\n\r\n  const deleteUser = (id) => {\r\n    db.collection('users').doc(id).delete()\r\n    .then(res => {\r\n      \r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n    setAdding(!adding);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const deleteButton = document.querySelectorAll('.delete');\r\n\r\n    deleteButton.forEach(button => {\r\n      button.addEventListener('click', (e) => {\r\n        const carId = e.target.dataset.target;\r\n        deleteUser(carId);\r\n      })\r\n    });\r\n  });\r\n\r\n  useEffect(() => {\r\n    getAllUsers();\r\n  },[adding])\r\n\r\n  return (\r\n    <div className=\"container users\">\r\n      <h1 className=\"is-size-1 title\">Users</h1>\r\n      <button className=\"button is-light add-users m-2\" onClick={() => history.push('/signup')} id=\"addUsers\">Add Users</button>\r\n\r\n        <table className=\"table users-table is-hoverable\">\r\n          <thead className=\"has-background-grey-dark\">\r\n            <tr className=\"\">\r\n              <th className=\"has-text-white-ter\">Username</th>\r\n              <th className=\"has-text-white-ter\">Email</th>\r\n              <th className=\"has-text-white-ter\">Password</th>\r\n              <th className=\"has-text-white-ter\">Edit</th>\r\n              <th className=\"has-text-white-ter\">Delete</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              users.length > 0 ?\r\n              users.map(obj => {\r\n                return <tr key={obj.id}>\r\n                  <td>{ update ? \r\n                    <input type='text' placeholder={obj.username} onChange={(e) => setUsername(e.target.value)} data-id={obj.id} onBlur={() => updateField(username, obj.id)} /> :\r\n                    obj.username }\r\n                  </td>\r\n                  <td>{ obj.email }</td>\r\n                  <td>{ obj.password }</td>\r\n                  {\r\n                    obj.username !== 'Admin' &&\r\n                  <td>\r\n                    <span className=\"icon\">\r\n                      <i className=\"fas fa-edit\" onClick={(e) => handleEdit(e)} >\r\n                        <img src={editIcon} className='edit' data-id={obj.id}/>\r\n                      </i>\r\n                    </span>\r\n                  </td>\r\n                  }\r\n                  {\r\n                    obj.username !== 'Admin' &&\r\n                    <td>\r\n                      <span className=\"icon delete\" data-target={obj.id}>\r\n                        <i className=\"fas\">\r\n                        </i>\r\n                      </span>\r\n                    </td>\r\n                  }\r\n                </tr>\r\n              }) : \r\n              <tr>\r\n                <td colSpan='8'>No users</td>\r\n              </tr>\r\n            }\r\n          </tbody>\r\n        </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersHandling\r\n","import React from 'react'\r\nimport { useEffect } from \"react\";\r\nimport VehicleHandling from './admin/VehicleHandling';\r\nimport UsersHandling from './admin/UsersHandling';\r\n\r\nfunction Admin({ userObject, visitor }) {\r\n  // Tabs\r\n    useEffect(() => {\r\n        const tabs = document.querySelectorAll('.tabs li');\r\n        const tabContent = document.querySelectorAll('#tab-content > div');\r\n\r\n        tabs.forEach((tab) => {\r\n            tab.addEventListener('click', () => {\r\n                tabs.forEach((t) => t.classList.remove('is-active'));\r\n                tab.classList.add('is-active');\r\n\r\n                const target = tab.dataset.tab;\r\n                tabContent.forEach(box => {\r\n                    box.getAttribute('id') === target ?\r\n                    box.classList.remove('is-hidden') :\r\n                    box.classList.add('is-hidden');\r\n                })\r\n            })\r\n        })\r\n\r\n    }, [])\r\n\r\n    return (\r\n        userObject !== null && visitor === 'Admin' ? \r\n          <main className=\"container has-text-centered mt-6 p-4\">\r\n              <h1 className=\"is-size-1 has-text-dark\">Admin panel</h1>\r\n            <div className=\"tabs is-boxed is-large\">\r\n                <ul>\r\n                    <li className='is-active' data-tab='vehicles'><a className='has-text-dark'>Vehicles</a></li>\r\n                    <li data-tab='users'><a className='has-text-dark'>Users</a></li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"px-2\" id='tab-content'>\r\n                <div id=\"vehicles\">\r\n                    <VehicleHandling />\r\n                </div>\r\n                <div id=\"users\" className='is-hidden'>\r\n                    <UsersHandling />\r\n                </div>\r\n            </div> \r\n          </main> :\r\n          <main className=\"container has-text-centered mt-6 p-4\">\r\n            <div className=\"is-size-1 has-text-dark\">Loading...</div>\r\n          </main>\r\n    )\r\n  }\r\nexport default Admin;","import React from 'react'\r\nimport { useEffect, useState } from 'react'\r\nimport { db } from '../firebase/config'\r\n\r\nfunction Profile({userObject, visitor}) {\r\n  const [ data, setData ] = useState([]);\r\n  \r\n  const handelCancel = () => {\r\n    db.collection('vehicles').doc(data.brandId).update({\r\n      renting: false\r\n    }).then(res => {\r\n      db.collection('users-renting').doc(userObject.uid).update({\r\n        brandId: '',\r\n        brandRenting: '',\r\n        date: '',\r\n        modelRenting: '',\r\n        payment: 0,\r\n        rentingFrom: '',\r\n        rentingTo: ''\r\n      })\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  const getData = () => {\r\n    if (userObject !== null) {\r\n      db.collection('users-renting').doc(userObject.uid).get()\r\n      .then(res => {\r\n        setData(res.data())\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    } else {\r\n      console.log('Wait')\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    getData();\r\n  },[])\r\n\r\n  return (\r\n    userObject !== null && visitor !== 'Admin' ? \r\n    <main className=\"container has-text-centered mt-6 p-4\">\r\n      <div className='has-background-light p-7 rounded-corners'>\r\n        <div className=\"is-size-1 has-text-dark\">\r\n          {visitor } - \r\n          { data.vip ? <span>VIP member</span> :\r\n          <span>Regular member</span>}\r\n        </div>\r\n        <div className=\"\">\r\n          <div>Renting: { data.brandRenting }</div>\r\n          <div>Model: {  data.modelRenting } </div>\r\n          <div>Date: { data.rentingFrom } - { data.rentingTo }</div>\r\n          <div>Last renting date: { data.date }</div>\r\n          <div className=\"\">Total times renting: { data.rentingTime }</div>\r\n          <div>Total price: {data.payment} &euro; </div>\r\n          <div>{ data.vip && <span>VIP price: {data.payment - (data.payment * 0.15)}</span>}</div>\r\n          <button className=\"button\" onClick={handelCancel}>Cancel?</button>\r\n        </div>\r\n      </div>\r\n    </main> : \r\n    <main className=\"container has-text-centered mt-6 p-4\">\r\n      <div className=\"is-size-1 has-text-dark\">Loading...</div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useContext } from 'react';\r\nimport { VisitorContext } from '../../context/VisitorsContext'\r\nimport { auth } from '../../firebase/config';\r\n\r\nexport default function Navbar({userObject, setUserObject}) {\r\n  const { user, setUser } = useContext(VisitorContext);\r\n\r\n  const handleLogout = () => {\r\n    auth.signOut().then(() => {\r\n      setUser(null);\r\n      setUserObject(null);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar is-dark\">\r\n      <div className=\"container level\">\r\n        <div className=\"level-item is-size-1\">\r\n          <NavLink exact to='/'>\r\n              <h1>Rent A Car</h1>\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"level-item is-size-6\">\r\n          { user != null && <NavLink to='/' className='pl-3'>Hello, {user}</NavLink>}\r\n          { user === null && <NavLink to='/login' className='pl-3'>Log in</NavLink> } \r\n          { user === null &&<NavLink to='/signup' className='pl-3'>Sign up</NavLink> }\r\n          { user != null && user !== 'Admin' && <NavLink to='/profile' className='pl-3'>Profile</NavLink> }\r\n          { user != null && user === 'Admin' && <NavLink to='/admin' className='pl-3'>Admin panel</NavLink> }\r\n          { user != null && <NavLink to='/' onClick={handleLogout} className='pl-3'>Log out</NavLink> }\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","import { Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\nimport Admin from \"./components/Admin\";\nimport Profile from \"./components/Profile\";\nimport Navbar from \"./components/shared/Navbar\";\nimport { useEffect } from \"react\";\nimport { auth, db } from \"./firebase/config\";\nimport { useContext, useState } from \"react\";\nimport { VisitorContext } from \"./context/VisitorsContext\";\n\nfunction App() {\n  const { user, setUser } = useContext(VisitorContext);\n  const [ userObject, setUserObject ] = useState(null);\n  \n  useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        db.collection('users').doc(user.uid).get()\n        .then((res) => {\n          setUser(res.data().username)\n        }).catch(err => {\n          console.log(err)\n        })\n        setUserObject(user);\n      } else {\n        // Do stuff when user is null\n      }\n    })\n  })\n\n  return (\n    <div className=\"App\">\n      <Navbar userObject={userObject} setUserObject={setUserObject} />\n      <Switch>\n        <Route exact path='/'>\n          <Home user={userObject} />\n        </Route>\n        <Route path='/login'>\n          <Login user={userObject} />\n        </Route>\n        <Route path='/signup'>\n          <Signup user={userObject} />\n        </Route>\n        <Route path='/profile'>\n          <Profile userObject={userObject} visitor={user} />\n        </Route>\n        <Route path='/admin'>\n          <Admin userObject={userObject} visitor={user}/>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css';\nimport './index.css';\nimport 'moment';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\nimport VisitorContextProvider from './context/VisitorsContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter basename='/'>\n      <VisitorContextProvider>\n        <App />\n      </VisitorContextProvider>\n    </HashRouter></React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}