(this.webpackJsonprentacar=this.webpackJsonprentacar||[]).push([[0],{35:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var s=c(2),a=c.n(s),n=c(27),i=c.n(n),l=(c(34),c(35),c(20)),r=c.n(l),d=c(4),j=c(5),o=c(15),b=c.n(o),u=c(19),h=c(17);c(38),c(51),c(50);h.a.initializeApp({apiKey:"AIzaSyBw2IS1z7tTCFhixckwzQSSLYXSiXtrHRE",authDomain:"rentacar-renting.firebaseapp.com",projectId:"rentacar-renting",storageBucket:"rentacar-renting.appspot.com",messagingSenderId:"331620922297",appId:"1:331620922297:web:4d0bf18cc070330b56fc68"}),h.a.firestore().settings({timestampsInSnapshots:!0});var O=h.a.storage(),m=h.a.firestore(),x=h.a.auth(),p=c(1),f=function(e){var t=e.props,c=e.user,a=Object(j.f)(),n=Object(s.useState)(!1),i=Object(d.a)(n,2),l=i[0],o=i[1],b=Object(s.useState)(!1),u=Object(d.a)(b,2),h=u[0],O=u[1],x=Object(s.useState)(!1),f=Object(d.a)(x,2),v=f[0],N=f[1],g=Object(s.useState)(),y=Object(d.a)(g,2),S=y[0],k=y[1],w=Object(s.useState)(0),C=Object(d.a)(w,2),E=C[0],A=C[1],L=Object(s.useState)(0),z=Object(d.a)(L,2),q=z[0],R=z[1],U=Object(s.useState)(!1),F=Object(d.a)(U,2),P=F[0],D=F[1];return Object(s.useEffect)((function(){var e;if(null!==c&&(e=c.uid,m.collection("users-renting").doc(e).get().then((function(e){R(e.data().rentingTime)}))),q>3&&D(!0),l){var s=r()(v).diff(h,"days");k(s);var a=parseInt(t.price),n=S*a;if(S<=3)A(n);else if(S>3&&S<=5){A(n-.05*n)}else if(S>5&&S<=10){A(n-.07*n)}else if(S>10){A(n-.1*n)}}else k(),A()})),Object(p.jsxs)("div",{className:"has-background-light p-7 rounded-corners",children:[Object(p.jsx)("div",{className:"is-size-3",children:t.brand}),Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:t.picture,alt:"",width:"200px"})}),Object(p.jsxs)("div",{children:["Model: ",t.model]}),Object(p.jsxs)("div",{children:["Type: ",t.type]}),Object(p.jsxs)("div",{children:["Construction year: ",t.constructYear]}),Object(p.jsxs)("div",{children:["Fuel type: ",t.fuel]}),Object(p.jsxs)("div",{children:["Number of seats: ",t.seats]}),Object(p.jsxs)("div",{children:["Price Per Day: ",t.price]}),null!==c&&!1===t.renting?Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Rent me? "}),Object(p.jsx)("input",{type:"checkbox",onChange:function(){return o(!l)}})]}):Object(p.jsx)("div",{children:"Not Available"}),null!==c&&l&&Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Rent from:"}),Object(p.jsx)("input",{type:"date",onChange:function(e){return O(e.target.value)}})," ",Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"Rent to:"}),Object(p.jsx)("input",{type:"date",onChange:function(e){return N(e.target.value)}}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Total price: (\u20ac) "}),Object(p.jsx)("input",{type:"text",placeholder:E,disabled:!0})]}),Object(p.jsx)("button",{className:"button",onClick:function(){var e;e=c.uid,!1!==h&&!1!==v?m.collection("users-renting").doc(e).update({brandId:t.id,brandRenting:t.brand,date:r()().format("YYYY-MM-DD"),modelRenting:t.model,payment:E,rentingFrom:h,rentingTo:v,rentingTime:q+1,vip:P}).then((function(e){m.collection("vehicles").doc(t.id).update({renting:!0}).then((function(){a.push("/profile")}))})).catch((function(e){console.log(e)})):(O(!1),N(!1))},children:"Rent me"})]})]})};function v(e){var t=e.user,c=Object(s.useState)([]),a=Object(d.a)(c,2),n=a[0],i=a[1],l=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("vehicles").get();case 2:t=e.sent,i(t.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){l()}),[]),Object(p.jsxs)("main",{className:"container has-text-centered mt-6 p-4",children:[Object(p.jsxs)("section",{className:"container",children:[Object(p.jsx)("h1",{className:"is-size-1 has-text-dark",children:"WELCOME"}),Object(p.jsx)("p",{className:"is-size-3",children:"Comfort. Stability. Security."}),Object(p.jsxs)("div",{className:"",children:["Number of cars: ",n.length]})]}),Object(p.jsx)("section",{className:"main-content container",children:n.length?n.map((function(e){return Object(p.jsx)(f,{props:e,user:t},e.id)})):Object(p.jsx)("div",{className:"button is-loading"})})]})}var N=Object(s.createContext)(),g=function(e){var t=Object(s.useState)(null),c=Object(d.a)(t,2),a=c[0],n=c[1];return Object(p.jsx)(N.Provider,{value:{user:a,setUser:function(e){n(e)}},children:e.children})};var y=function(){Object(s.useContext)(N).setUser;var e=Object(j.f)(),t=Object(s.useState)(""),c=Object(d.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(""),l=Object(d.a)(i,2),r=l[0],o=l[1];return Object(p.jsx)("main",{className:"container has-text-centered mt-6 p-4",children:Object(p.jsxs)("section",{className:"container has-text-centered",children:[Object(p.jsx)("h1",{className:"is-size-1 has-text-dark",children:"Log in"}),Object(p.jsx)("div",{className:"has-text-centered",children:Object(p.jsxs)("form",{className:"pt-6 m-3",onSubmit:function(t){if(t.preventDefault(),""!==a&&""!==r)try{x.signInWithEmailAndPassword(a,r).then((function(e){})).catch((function(e){console.log(e)}))}catch(c){console.log(c)}e.push("/")},children:[Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label has-text-dark is-size-5",children:"Email"}),Object(p.jsxs)("div",{className:"control has-icons-left",children:[Object(p.jsx)("input",{className:"input",name:"email",type:"email",placeholder:"Email",onChange:function(e){return n(e.target.value)}}),Object(p.jsx)("span",{className:"icon is-small is-left",children:Object(p.jsx)("i",{className:"fas fa-envelope"})})]}),Object(p.jsx)("p",{className:"help error email"})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label has-text-dark is-size-5",children:"Password"}),Object(p.jsxs)("div",{className:"control has-icons-left",children:[Object(p.jsx)("input",{className:"input",name:"password",type:"password",placeholder:"Password",onChange:function(e){return o(e.target.value)}}),Object(p.jsx)("span",{className:"icon is-small is-left",children:Object(p.jsx)("i",{className:"fas fa-lock"})})]}),Object(p.jsx)("p",{className:"help error password"})]}),Object(p.jsx)("button",{className:"button is-medium is-dark",children:"Log in"})]})})]})})};var S=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(d.a)(n,2),l=i[0],r=i[1],o=Object(s.useState)(""),b=Object(d.a)(o,2),u=b[0],h=b[1],O=Object(j.f)();return Object(p.jsx)("main",{className:"container has-text-centered mt-6 p-4",children:Object(p.jsxs)("section",{className:"container has-text-centered",children:[Object(p.jsx)("h1",{className:"is-size-1 has-text-dark",children:"Sign up"}),Object(p.jsx)("div",{className:"has-text-centered",children:Object(p.jsxs)("form",{method:"post",className:"pt-6 m-3",onSubmit:function(e){if(e.preventDefault(),""!==c&&""!==l&&""!==u)try{x.createUserWithEmailAndPassword(l,u).then((function(e){return m.collection("users").doc(e.user.uid).set({id:e.user.uid,username:c,email:l,password:u}),m.collection("users-renting").doc(e.user.uid).set({id:e.user.uid,brandId:"",modelRenting:"",brandRenting:"",rentingFrom:"",rentingTo:"",rentingTime:0,date:"",vip:!1,payment:0})})).catch((function(e){console.log(e.message)})),O.push("/")}catch(t){console.log(t)}},children:[Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label has-text-dark is-size-5",children:"Username"}),Object(p.jsx)("div",{className:"control has-icons-left",children:Object(p.jsx)("input",{className:"input",name:"text",type:"text",placeholder:"Username",onChange:function(e){return a(e.target.value)},required:!0})}),Object(p.jsx)("p",{className:"help error username"})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label has-text-dark is-size-5",children:"Email"}),Object(p.jsxs)("div",{className:"control has-icons-left",children:[Object(p.jsx)("input",{className:"input",name:"email",type:"email",placeholder:"Email",onChange:function(e){return r(e.target.value)},required:!0}),Object(p.jsx)("span",{className:"icon is-small is-left",children:Object(p.jsx)("i",{className:"fas fa-envelope"})})]}),Object(p.jsx)("p",{className:"help error email"})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label has-text-dark is-size-5",children:"Password"}),Object(p.jsxs)("div",{className:"control has-icons-left",children:[Object(p.jsx)("input",{className:"input",name:"password",type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)},required:!0}),Object(p.jsx)("span",{className:"icon is-small is-left",children:Object(p.jsx)("i",{className:"fas fa-lock"})})]}),Object(p.jsx)("p",{className:"help error password"})]}),Object(p.jsx)("button",{className:"button is-medium is-dark",children:"Sign up"})]})})]})})};var k=function(e){var t=e.setVehicleAdd,c=e.vehicle,a=Object(j.f)(),n=Object(s.useState)(""),i=Object(d.a)(n,2),l=i[0],r=i[1],o=Object(s.useState)(),h=Object(d.a)(o,2),x=h[0],f=h[1],v=Object(s.useState)(""),N=Object(d.a)(v,2),g=N[0],y=N[1],S=Object(s.useState)(""),k=Object(d.a)(S,2),w=k[0],C=k[1],E=Object(s.useState)(""),A=Object(d.a)(E,2),L=A[0],z=A[1],q=Object(s.useState)(""),R=Object(d.a)(q,2),U=R[0],F=R[1],P=Object(s.useState)(""),D=Object(d.a)(P,2),I=D[0],T=D[1],V=Object(s.useState)(""),M=Object(d.a)(V,2),B=M[0],Y=M[1],H=Object(s.useState)(""),W=Object(d.a)(H,2),G=W[0],J=W[1];Object(s.useEffect)((function(){var e=document.querySelector("#addVehicle"),t=document.querySelector(".modal"),c=document.querySelector(".modal-background");e.addEventListener("click",(function(){t.classList.add("is-active")})),c.addEventListener("click",(function(){t.classList.remove("is-active")}))}));var X=function(){var e=Object(u.a)(b.a.mark((function e(t){var c,s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files[0],s=O.ref(),a=s.child(c.name),e.next=5,a.put(c);case 5:return r(c.name),e.t0=f,e.next=9,a.getDownloadURL();case 9:e.t1=e.sent,(0,e.t0)(e.t1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"button is-light add",id:"addVehicle",children:"Add Vehicle"}),Object(p.jsxs)("div",{className:"modal",children:[Object(p.jsx)("div",{className:"modal-background"}),Object(p.jsxs)("div",{className:"modal-card",children:[Object(p.jsx)("header",{className:"modal-card-head",children:Object(p.jsx)("p",{className:"modal-card-title",children:"Add Vehicle"})}),Object(p.jsx)("div",{className:"modal-card-body has-background-grey p-5",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s=Math.round(1e4*Math.random()).toLocaleString();try{""!==l&&m.collection("vehicles").doc(s).set({id:s,picture:x,brand:g,model:w,constructYear:L,fuel:U,seats:I,price:B,type:G,renting:!1}).then((function(e){})).catch((function(e){console.log(e)}))}catch(n){console.log(n)}document.querySelector(".modal").classList.remove("is-active"),t(!c),a.push("/")},children:[Object(p.jsx)("label",{className:"label",children:"Choose a picture:"}),Object(p.jsx)("div",{className:"field file",children:Object(p.jsx)("div",{className:"file is-boxed",children:Object(p.jsxs)("label",{className:"file-label",children:[Object(p.jsx)("input",{className:"file-input",onChange:X,type:"file",name:"picture",accept:".jpg, .jpeg, .png",required:!0}),Object(p.jsxs)("span",{className:"file-cta",children:[Object(p.jsx)("span",{className:"file-icon",children:Object(p.jsx)("i",{className:"fas fa-upload",children:Object(p.jsx)("img",{src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.freeiconspng.com%2Fuploads%2Fupload-icon-6.png&f=1&nofb=1",alt:""})})}),Object(p.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})]}),Object(p.jsx)("span",{className:"file-name",children:l})]})})}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{htmlFor:"brand",className:"label",children:"Brand"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{onChange:function(e){return y(e.target.value)},className:"input",name:"brand",id:"brand",type:"text",placeholder:"e.g Toyota",required:!0})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{htmlFor:"model",className:"label",children:"Model"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{onChange:function(e){return C(e.target.value)},className:"input",name:"model",id:"model",type:"text",placeholder:"e.g Toyota Prius",required:!0})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{htmlFor:"year",className:"label",children:"Construction year"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{onChange:function(e){return z(e.target.value)},className:"input",name:"year",id:"year",type:"text",placeholder:"e.g 2020",required:!0})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Fuel type"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("div",{className:"select",children:Object(p.jsxs)("select",{onChange:function(e){return F(e.target.value)},required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select"}),Object(p.jsx)("option",{value:"Ethanol",children:"Ethanol"}),Object(p.jsx)("option",{value:"Methanol",children:"Methanol"}),Object(p.jsx)("option",{value:"Gasoline",children:"Gasoline"}),Object(p.jsx)("option",{value:"Diesel",children:"Diesel"}),Object(p.jsx)("option",{value:"Natural gas",children:"Natural gas"}),Object(p.jsx)("option",{value:"Hydrogen",children:"Hydrogen"}),Object(p.jsx)("option",{value:"Biodiesel",children:"Biodiesel"})]})})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Vehicle type"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("div",{className:"select",children:Object(p.jsxs)("select",{onChange:function(e){return J(e.target.value)},required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select"}),Object(p.jsx)("option",{value:"Economy",children:"Economy"}),Object(p.jsx)("option",{value:"Estate",children:"Estate"}),Object(p.jsx)("option",{value:"Luxury",children:"Luxury"}),Object(p.jsx)("option",{value:"SUV",children:"SUV"}),Object(p.jsx)("option",{value:"Cargo",children:"Cargo"})]})})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"Number of seats"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("div",{className:"select",children:Object(p.jsxs)("select",{onChange:function(e){return T(e.target.value)},required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select"}),Object(p.jsx)("option",{value:"2",children:"2"}),Object(p.jsx)("option",{value:"4",children:"4"}),Object(p.jsx)("option",{value:"6",children:"6"})]})})})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{htmlFor:"price",className:"label",children:"Price per Day in \u20ac(EUR)"}),Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{onChange:function(e){return Y(e.target.value)},className:"input",name:"price",id:"price",type:"number",placeholder:"e.g 50",required:!0})})]}),Object(p.jsx)("button",{className:"button is-link",children:"Submit"})]})})]})]})]})},w=c.p+"static/media/edit.bd176f6f.png";var C=function(e){var t=e.vehicles,c=e.vehicle,a=e.setVehicleAdd,n=Object(s.useState)(!1),i=Object(d.a)(n,2),l=i[0],r=i[1],j=Object(s.useState)(""),o=Object(d.a)(j,2),b=o[0],u=o[1];return Object(s.useEffect)((function(){document.querySelectorAll(".delete").forEach((function(e){e.addEventListener("click",(function(e){var t,s,n=e.target.dataset.target,i=e.target.dataset.url;t=n,s=i,m.collection("vehicles").doc(t).delete().then((function(e){})).catch((function(e){console.log(e)})),O.refFromURL(s).delete().then((function(){console.log("deleted pic")})).catch((function(e){console.log(e)})),a(!c)}))}))})),Object(p.jsx)("div",{className:"table-vehicles m-6",children:Object(p.jsxs)("table",{className:"table is-hoverable",children:[Object(p.jsx)("thead",{className:"has-background-grey-dark",children:Object(p.jsxs)("tr",{className:"",children:[Object(p.jsx)("th",{className:"has-text-white-ter",children:"Brand"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Model"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Year of construction"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Fuel type"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Number of seats"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Price Per Day (\u20ac)"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Edit"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Delete"})]})}),Object(p.jsx)("tbody",{children:t.length>0?t.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.brand}),Object(p.jsx)("td",{children:e.model}),Object(p.jsx)("td",{children:e.constructYear}),Object(p.jsx)("td",{children:e.fuel}),Object(p.jsx)("td",{children:e.seats}),Object(p.jsx)("td",{children:l?Object(p.jsx)("input",{type:"text",placeholder:e.price,"data-id":e.id,onChange:function(e){return u(e.target.value)},onBlur:function(){return function(e,t){m.collection("vehicles").doc(t).update({price:e}).then((function(){return r(!1)})).catch((function(e){console.log(e)})),a(!c)}(b,e.id)}}):e.price}),Object(p.jsx)("td",{children:Object(p.jsx)("span",{className:"icon",children:Object(p.jsx)("i",{className:"fas fa-edit",onClick:function(e){r(!0)},children:Object(p.jsx)("img",{src:w,className:"edit","data-id":e.id})})})}),Object(p.jsx)("td",{children:Object(p.jsx)("span",{className:"icon delete","data-target":e.id,"data-url":e.picture,children:Object(p.jsx)("i",{className:"fas"})})})]},e.id)})):Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"8",children:"No vehicles"})})})]})})};var E=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),i=Object(d.a)(n,2),l=i[0],r=i[1],j=function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("vehicles").get();case 2:t=e.sent,a(t.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){j()}),[l]),Object(p.jsxs)("section",{className:"container",children:[Object(p.jsx)(k,{setVehicleAdd:r,vehicle:l}),Object(p.jsx)(C,{setVehicleAdd:r,vehicle:l,vehicles:c})]})};var A=function(){var e=Object(j.f)(),t=Object(s.useState)([]),c=Object(d.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(!1),l=Object(d.a)(i,2),r=l[0],o=l[1],b=Object(s.useState)(!1),u=Object(d.a)(b,2),h=u[0],O=u[1],x=Object(s.useState)(""),f=Object(d.a)(x,2),v=f[0],N=f[1];return Object(s.useEffect)((function(){document.querySelectorAll(".delete").forEach((function(e){e.addEventListener("click",(function(e){var t,c=e.target.dataset.target;t=c,m.collection("users").doc(t).delete().then((function(e){})).catch((function(e){console.log(e)})),o(!r)}))}))})),Object(s.useEffect)((function(){!function(){try{m.collection("users").get().then((function(e){n(e.docs.map((function(e){return e.data()})))})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}()}),[r]),Object(p.jsxs)("div",{className:"container users",children:[Object(p.jsx)("h1",{className:"is-size-1 title",children:"Users"}),Object(p.jsx)("button",{className:"button is-light add-users m-2",onClick:function(){return e.push("/signup")},id:"addUsers",children:"Add Users"}),Object(p.jsxs)("table",{className:"table users-table is-hoverable",children:[Object(p.jsx)("thead",{className:"has-background-grey-dark",children:Object(p.jsxs)("tr",{className:"",children:[Object(p.jsx)("th",{className:"has-text-white-ter",children:"Username"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Email"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Password"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Edit"}),Object(p.jsx)("th",{className:"has-text-white-ter",children:"Delete"})]})}),Object(p.jsx)("tbody",{children:a.length>0?a.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:h?Object(p.jsx)("input",{type:"text",placeholder:e.username,onChange:function(e){return N(e.target.value)},"data-id":e.id,onBlur:function(){return function(e,t){""!==e?m.collection("users").doc(t).update({username:e}).then((function(){O(!1)})).catch((function(e){console.log(e)})):O(!1),o(!r)}(v,e.id)}}):e.username}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:e.password}),"Admin"!==e.username&&Object(p.jsx)("td",{children:Object(p.jsx)("span",{className:"icon",children:Object(p.jsx)("i",{className:"fas fa-edit",onClick:function(e){O(!0)},children:Object(p.jsx)("img",{src:w,className:"edit","data-id":e.id})})})}),"Admin"!==e.username&&Object(p.jsx)("td",{children:Object(p.jsx)("span",{className:"icon delete","data-target":e.id,children:Object(p.jsx)("i",{className:"fas"})})})]},e.id)})):Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"8",children:"No users"})})})]})]})};var L=function(e){var t=e.userObject,c=e.visitor;return Object(s.useEffect)((function(){var e=document.querySelectorAll(".tabs li"),t=document.querySelectorAll("#tab-content > div");e.forEach((function(c){c.addEventListener("click",(function(){e.forEach((function(e){return e.classList.remove("is-active")})),c.classList.add("is-active");var s=c.dataset.tab;t.forEach((function(e){e.getAttribute("id")===s?e.classList.remove("is-hidden"):e.classList.add("is-hidden")}))}))}))}),[]),null!==t&&"Admin"===c?Object(p.jsxs)("main",{className:"container has-text-centered mt-6 p-4",children:[Object(p.jsx)("h1",{className:"is-size-1 has-text-dark",children:"Admin panel"}),Object(p.jsx)("div",{className:"tabs is-boxed is-large",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"is-active","data-tab":"vehicles",children:Object(p.jsx)("a",{className:"has-text-dark",children:"Vehicles"})}),Object(p.jsx)("li",{"data-tab":"users",children:Object(p.jsx)("a",{className:"has-text-dark",children:"Users"})})]})}),Object(p.jsxs)("div",{className:"px-2",id:"tab-content",children:[Object(p.jsx)("div",{id:"vehicles",children:Object(p.jsx)(E,{})}),Object(p.jsx)("div",{id:"users",className:"is-hidden",children:Object(p.jsx)(A,{})})]})]}):Object(p.jsx)("main",{className:"container has-text-centered mt-6 p-4",children:Object(p.jsx)("div",{className:"is-size-1 has-text-dark",children:"Loading..."})})};var z=function(e){var t=e.userObject,c=e.visitor,a=Object(s.useState)([]),n=Object(d.a)(a,2),i=n[0],l=n[1];return Object(s.useEffect)((function(){null!==t?m.collection("users-renting").doc(t.uid).get().then((function(e){l(e.data())})).catch((function(e){console.log(e)})):console.log("Wait")}),[]),null!==t&&"Admin"!==c?Object(p.jsx)("main",{className:"container has-text-centered mt-6 p-4",children:Object(p.jsxs)("div",{className:"has-background-light p-7 rounded-corners",children:[Object(p.jsxs)("div",{className:"is-size-1 has-text-dark",children:[c," -",i.vip?Object(p.jsx)("span",{children:"VIP member"}):Object(p.jsx)("span",{children:"Regular member"})]}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{children:["Renting: ",i.brandRenting]}),Object(p.jsxs)("div",{children:["Model: ",i.modelRenting," "]}),Object(p.jsxs)("div",{children:["Date: ",i.rentingFrom," - ",i.rentingTo]}),Object(p.jsxs)("div",{children:["Last renting date: ",i.date]}),Object(p.jsxs)("div",{className:"",children:["Total times renting: ",i.rentingTime]}),Object(p.jsxs)("div",{children:["Total price: ",i.payment," \u20ac "]}),Object(p.jsx)("div",{children:i.vip&&Object(p.jsxs)("span",{children:["VIP price: ",i.payment-.15*i.payment]})}),Object(p.jsx)("button",{className:"button",onClick:function(){m.collection("vehicles").doc(i.brandId).update({renting:!1}).then((function(e){m.collection("users-renting").doc(t.uid).update({brandId:"",brandRenting:"",date:"",modelRenting:"",payment:0,rentingFrom:"",rentingTo:""})})).catch((function(e){console.log(e)}))},children:"Cancel?"})]})]})}):Object(p.jsx)("main",{className:"container has-text-centered mt-6 p-4",children:Object(p.jsx)("div",{className:"is-size-1 has-text-dark",children:"Loading..."})})},q=c(13);function R(e){e.userObject;var t=e.setUserObject,c=Object(s.useContext)(N),a=c.user,n=c.setUser;return Object(p.jsx)("nav",{className:"navbar is-dark",children:Object(p.jsxs)("div",{className:"container level",children:[Object(p.jsx)("div",{className:"level-item is-size-1",children:Object(p.jsx)(q.b,{exact:!0,to:"/",children:Object(p.jsx)("h1",{children:"Rent A Car"})})}),Object(p.jsxs)("div",{className:"level-item is-size-6",children:[null!=a&&Object(p.jsxs)(q.b,{to:"/",className:"pl-3",children:["Hello, ",a]}),null===a&&Object(p.jsx)(q.b,{to:"/login",className:"pl-3",children:"Log in"}),null===a&&Object(p.jsx)(q.b,{to:"/signup",className:"pl-3",children:"Sign up"}),null!=a&&"Admin"!==a&&Object(p.jsx)(q.b,{to:"/profile",className:"pl-3",children:"Profile"}),null!=a&&"Admin"===a&&Object(p.jsx)(q.b,{to:"/admin",className:"pl-3",children:"Admin panel"}),null!=a&&Object(p.jsx)(q.b,{to:"/",onClick:function(){x.signOut().then((function(){n(null),t(null)}))},className:"pl-3",children:"Log out"})]})]})})}var U=function(){var e=Object(s.useContext)(N),t=e.user,c=e.setUser,a=Object(s.useState)(null),n=Object(d.a)(a,2),i=n[0],l=n[1];return Object(s.useEffect)((function(){x.onAuthStateChanged((function(e){e&&(m.collection("users").doc(e.uid).get().then((function(e){c(e.data().username)})).catch((function(e){console.log(e)})),l(e))}))})),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(R,{userObject:i,setUserObject:l}),Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{exact:!0,path:"/",children:Object(p.jsx)(v,{user:i})}),Object(p.jsx)(j.a,{path:"/login",children:Object(p.jsx)(y,{user:i})}),Object(p.jsx)(j.a,{path:"/signup",children:Object(p.jsx)(S,{user:i})}),Object(p.jsx)(j.a,{path:"/profile",children:Object(p.jsx)(z,{userObject:i,visitor:t})}),Object(p.jsx)(j.a,{path:"/admin",children:Object(p.jsx)(L,{userObject:i,visitor:t})})]})]})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(q.a,{basename:"/",children:Object(p.jsx)(g,{children:Object(p.jsx)(U,{})})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.32e3a265.chunk.js.map